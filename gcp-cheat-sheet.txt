#!/usr/bin/env bash  # user creation script

sudo useradd -s /bin/bash -d /home/e00049 -m e00049
sudo echo -e "z\nz" | passwd e00049 > /dev/null 2>&1
echo "e00049 ALL=(ALL)      NOPASSWD: ALL" >> /etc/sudoers
sed -i 's/PasswordAuthentication no/PasswordAuthentication yes/g' /etc/ssh/sshd_config
sed -i 's/PermitRootLogin forced-commands-only/#PermitRootLogin forced-commands-only/g' /etc/ssh/sshd_config
systemctl restart sshd >/dev/null 2>&1

# google cloud sdk installation
sudo apt-get install apt-transport-https ca-certificates gnupg -y
echo "deb https://packages.cloud.google.com/apt cloud-sdk main" | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
sudo apt-get update && sudo apt-get install google-cloud-cli -y
sudo apt-get install google-cloud-cli* -y

gcloud init --skip-diagnostics (or)
gcloud auth activate-service-account --key-file=e00049-projects-workspace.json

sudo apt-get install google-cloud-sdk-gke-gcloud-auth-plugin
gke-gcloud-auth-plugin --version
export USE_GKE_GCLOUD_AUTH_PLUGIN=True
source ~/.bashrc
sudo apt-get update && sudo apt-get --only-upgrade install google-cloud-sdk* -y
gcloud container clusters get-credentials e00049-cluster-here
sudo apt-get install kubectl -y

gcloud compute networks list

gcloud config list

gcloud config set project PROJECT_ID

gcloud storage cat gs://$BUCKET_NAME_2/$FILE_NAME 

gcloud projects get-iam-policy e00049-projects-workspace			# list iam policy

gcloud compute addresses list

gcloud compute reset-windows-password instance-1 --zone us-central1-c --user admin - reset windows password

gcloud compute routers create on-prem-router1 \
    --region us-central1 \
    --network on-prem \
    --asn 65002

gcloud container clusters create example-cluster --zone us-central1-a --node-locations us-central1-a,us-central1-b,us-central1-c

gcloud billing accounts list

gcloud iam roles update editot --project e00049 --stage disabled 

gcloud compute networks list


